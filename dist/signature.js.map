{"version":3,"sources":["webpack://Signature/webpack/universalModuleDefinition","webpack://Signature/webpack/bootstrap","webpack://Signature/./src/signature.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","m","Signature","options","el","lineWidth","this","canvas","ctx","getContext","painting","lastPoint","x","y","isMobile","document","body","ontouchstart","addEventListener","onStartDraw","bind","onDrawing","onDrawEnd","e","point","touches","clientX","clientY","newPoint","drawLine","x1","y1","x2","y2","lineCap","lineJoin","moveTo","lineTo","stroke","closePath","toDataURL","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","dataUrl","a","createElement","href","download","target","click","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","object","property","prototype","hasOwnProperty","call","p","s","moduleId","i","l","modules"],"mappings":"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","file":"signature.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Signature\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Signature\"] = factory();\n\telse\n\t\troot[\"Signature\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export default class Signature {\n  constructor(options = { el, lineWidth: 10 }) {\n    this.canvas = options.el;\n    this.ctx = this.canvas.getContext('2d');\n    this.lineWidth = options.lineWidth;\n    this.painting = false;\n    this.lastPoint = { x: undefined, y: undefined };\n    this.isMobile = document.body.ontouchstart !== undefined;\n\n    if (this.isMobile) {\n      this.canvas.addEventListener('touchstart', this.onStartDraw.bind(this));\n      this.canvas.addEventListener('touchmove', this.onDrawing.bind(this));\n      this.canvas.addEventListener('touchend', this.onDrawEnd.bind(this));\n    } else {\n      this.canvas.addEventListener('mousedown', this.onStartDraw.bind(this));\n      this.canvas.addEventListener('mousemove', this.onDrawing.bind(this));\n      this.canvas.addEventListener('mouseup', this.onDrawEnd.bind(this));\n    }\n  }\n\n  onStartDraw(e) {\n    let point = this.isMobile ? (point = e.touches[0]) : e;\n    this.painting = true;\n    let x = point.clientX;\n    let y = point.clientY;\n    this.lastPoint = { x, y };\n  }\n\n  onDrawing(e) {\n    if (this.painting) {\n      let point = this.isMobile ? (point = e.touches[0]) : e;\n      let x = point.clientX;\n      let y = point.clientY;\n      let newPoint = { x, y };\n      this.drawLine(this.lastPoint.x, this.lastPoint.y, newPoint.x, newPoint.y);\n      this.lastPoint = newPoint;\n    }\n  }\n\n  onDrawEnd() {\n    this.painting = false;\n  }\n\n  drawLine(x1, y1, x2, y2) {\n    this.ctx.lineWidth = this.lineWidth;\n    this.ctx.lineCap = 'round';\n    this.ctx.lineJoin = 'round';\n    this.ctx.moveTo(x1, y1);\n    this.ctx.lineTo(x2, y2);\n    this.ctx.stroke();\n    this.ctx.closePath();\n  }\n\n  saveAsDataUrl() {\n    return this.canvas.toDataURL('image/png');\n  }\n\n  saveAsFile(filename = 'sign.png') {\n    const dataUrl = this.canvas.toDataURL('image/png');\n    var arr = dataUrl.split(','),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n);\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([u8arr], filename, { type: mime });\n  }\n\n  download(filename = 'sign.png') {\n    let dataUrl = this.canvas.toDataURL('image/png');\n    let a = document.createElement('a');\n    a.href = dataUrl;\n    a.download = filename;\n    a.target = '_blank';\n    a.click();\n  }\n}\n"],"sourceRoot":""}